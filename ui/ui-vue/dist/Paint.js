import{_ as B,i as P,r as p,o as $,a as n,c as g,w as v,b as c,F as C,d as V,u as _,e as F,f as U,P as y,n as k,T as D,g as T,t as w,h as E,j as L,L as u}from"./index.js";const N={key:0},i="1 1 1 1 0 1 1 0",j={__name:"Paint",props:{withBackground:{type:Boolean},tabbed:{type:Boolean,default:!0},legacy:{type:Boolean,default:!0}},setup(o){const l=P("$game"),a=p([i,i,i]),d=p({});function f(e){L(()=>u.core_vehicle_colors.setVehicleColor(e,a.value[e]))}async function h(){for(let e=0;e<a.value.length;e++){const m=e===0?u.getVehicleColor():u.getVehicleColorPalette(e-1);a.value[e]=await m||i}}async function s(){const e=await u.core_vehicles.getCurrentVehicleDetails();d.value=e.model&&e.model.paints?e.model.paints:{},await h()}return l.events.on("VehicleChange",s),l.events.on("VehicleFocusChanged",s),l.events.on("VehicleChangeColor",h),$(()=>{l.events.off("VehicleChange",s),l.events.off("VehicleFocusChanged",s),l.events.off("VehicleChangeColor",h)}),s(),(e,m)=>o.tabbed?(n(),g(_(D),{key:0,class:k({"bng-tabs":!0,"paint-container-tabs":!0,"without-background":!o.withBackground})},{default:v(()=>[(n(!0),c(C,null,V(a.value,(b,t)=>(n(),g(_(F),{heading:e.$t("ui.trackBuilder.matEditor.paint")+" "+(t+1),"load-on-demand":!0},{default:v(()=>[U(y,{modelValue:a.value[t],"onUpdate:modelValue":r=>a.value[t]=r,onChange:r=>f(t),"show-preview":!1,"presets-editable":!0,presets:d.value,legacy:o.legacy},null,8,["modelValue","onUpdate:modelValue","onChange","presets","legacy"])]),_:2},1032,["heading"]))),256))]),_:1},8,["class"])):(n(),c("div",{key:1,class:k({"paint-container":!0,"with-background":o.withBackground})},[(n(!0),c(C,null,V(a.value,(b,t)=>(n(),g(y,{modelValue:a.value[t],"onUpdate:modelValue":r=>a.value[t]=r,onChange:r=>f(t),"show-preview":!1,"presets-editable":!0,presets:d.value,legacy:o.legacy},{default:v(()=>[T(w(e.$t("ui.trackBuilder.matEditor.paint"))+" "+w(t+1),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","presets","legacy"]))),256)),a.value.length%2===1?(n(),c("div",N)):E("",!0)],2))}};var z=B(j,[["__scopeId","data-v-663200e8"]]);export{z as default};
